pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
function _init()
p={x=60,y=90,speed=4} --creation p:player
bullets={} --tirs 
create_stars()
end

function _update60()
if (btn(⬅️)) p.x-=p.speed
if (btn(➡️)) p.x+=p.speed
if (btn(⬆️)) p.y-=p.speed
if (btn(⬇️)) p.y+=p.speed
if (btnp(❎)) shoot()
update_bullets()
update_stars()	
end

function _draw()
	cls(1)
	for s in all(stars) do
	pset(s.x,s.y,s.col) -- pixel set		
	end
	spr(1,p.x,p.y) --affectation sprite player
	for b in all (bullets) do --b pour balle
	spr(26,b.x,b.y)	 --affectation sprite projectile
end
-->8
--bullets
function shoot()
 new_bullet={ --creation projectile
 x=p.x,
 y=p.y,
 speed=2
 }
 add(bullets,new_bullet) --ajouter elts dans tableau shoot
 sfx(0) --son tir
 end	
end

function update_bullets() --maj position projection balle
 for b in all(bullets) do
 	b.y-=b.speed
	end
end 
-->8
--stars
function create_stars()
 stars={}
 for i=1,20  do --scope boucle qui tourne de 1 a 20
  local new_star={
 	x=rnd(128),
 	y=rnd(128),
 	col=10,
  speed=2	
		}
	add(stars,new_star)
 end	
end

function update_stars()
 for s in all(stars) do  -- s pour chaque star
  s.y+=s.speed
  if s.y>128 then
  s.y=0
  s.x=rnd(128)  	
  end		
	end
end

-->8
--foes
__gfx__
00000000080000800a0000a0000990000a0000a000888800004444000aaafa00099999900000000000888000030bb030000003300bb009a90000000000000000
00000000060000600a0000a0089749800000000008a99a8004444440afafafa09999999900000000000e88000833338000099aa300bb9a9a0000000000000000
00700700060a60600a0000a0097474900a0000a08a0000a8444ff444aaaafaf0888888880000000080002800838338380b9994a333b9a9a90000000000000000
00077000044a64400a0000a097474749080000808900009844499444878787803aaaaaa3000000008e08802087e88888ba444ab30b9a9a900000000000000000
00077000445a664409000090097474900000000089000098f444444f87878780444aa44400000000882e08008e888888baaaab330ba9a9b00000000000000000
00700700455aa55409000090089749800a0000a08a0000a89f4444f98787878044444444000000000880e822888888883bbbb3300bba9bbb0000000000000000
0000000005855850080000800a0990a00800008008a99a8009ffff90878787809999999900000000000202888888888803333300b3bbb30b0000000000000000
0000000000a55a00000000000a0000a0080000800088880000999900878787800999999000000000000002800888888000333000bb0003000000000000000000
0000000000000000000000000000000000000000000000000888000002240000004444000000000000bb00bb000bb0bb0bb00bb0000000000000000000000000
0000000000000000000000000000000000000000000000008788e00092274000049949400000000000bbb0bb0000b3bbb0bbbb0b000000000000000000000000
0000000000000000000000000000000000000000000000008888e200f922740094a4a9940000000000003b300000bb30000bb000000000000000000000000000
000000000000000000000000000000000000000000000000888e2800ff922740a000a94400000000000030b300099bbb0eeeeee0000000000000000000000000
0000000000000000000000000000000000000000000000000ee282000ff9227400000494000000000088b0bb009f990beffeeffe000000000000000000000000
0000000000000000000000000000000000000000000000000028270000ff9222000009af000000000888800009a9900077777777000000000000000000000000
00000000000000000000000000000000000000000000000000000070000ff92200000aa9000000000e8880000999000007777770000000000000000000000000
000000000000000000000000000000000000000000000000000000070000ff9000000a00000000007ee800009900000000077000000000000000000000000000
00888000000088888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000e8800000088888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
80002800000000ee8888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
8e088020000000ee8888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
882e0800880000000088000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0880e822880000000088000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0002028888ee00888800220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000002e088ee00888800220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000888822ee0088000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000888822ee0088000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000888800ee88222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000888800ee88222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000009000220022888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000009000220022888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000a000900022ee0900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000a000a00022ee0a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000a000a000a00a0a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000a000a000a00a0a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000200003b0703a0603805034050310502c050220501d040200301d0201de102800025e1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
